<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Algorithm Comparison - Indian Meal Recommendation</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f8f9fa; color: #333; }
    header { background: #007BFF; color: white; padding: 15px; text-align: center; }
    nav { background: #0056b3; padding: 10px; display: flex; justify-content: center; }
    nav a { color: white; text-decoration: none; margin: 0 15px; font-weight: bold; }
    nav a:hover { text-decoration: underline; }
    main { max-width: 1200px; margin: 20px auto; background: white; padding: 20px; border-radius: 6px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    h2 { color: #007BFF; border-bottom: 2px solid #eee; padding-bottom: 4px; }
    table { border-collapse: collapse; width: 100%; margin: 15px 0; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
    th { background: #f1f1f1; font-weight: bold; }
    .metric-box { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 4px; border-left: 4px solid #007BFF; }
    .btn { padding: 8px 14px; background: #28a745; color: white; border: none; cursor: pointer; border-radius: 4px; margin: 5px; }
    .btn:hover { background: #218838; }
    .btn-primary { background: #007BFF; }
    .btn-primary:hover { background: #0056b3; }
</style>
</head>
<body>
<header>
    <h1>Algorithm Comparison Results</h1>
</header>
<nav>
    <a href="{{ url_for('index') }}">Home</a>
    <a href="{{ url_for('compare_algorithms_route') }}">Algorithm Comparison</a>
    <a href="{{ url_for('genetic_visualization') }}">Genetic Algorithm Demo</a>
</nav>

<main>
    <h2>Algorithm Comparison Results</h2>
    
    <div class="metric-box">
        <h4>Performance Metrics</h4>
        <table>
            <tr style="background: #f8f9fa;">
                <th>Algorithm</th>
                <th>Execution Time (s)</th>
                <th>Space Complexity</th>
                <th>Calorie Accuracy (%)</th>
                <th>Macro Accuracy (%)</th>
                <th>Overall Accuracy (%)</th>
            </tr>
            {% for algo_name, metrics in [('Brute Force', comparison_metrics.brute_force), ('Genetic Algorithm', comparison_metrics.genetic)] %}
            <tr {% if algo_name == 'Genetic Algorithm' %}style="background: #d4edda;"{% endif %}>
                <td><strong>{{ algo_name }}</strong></td>
                <td>{{ "%.3f"|format(metrics.execution_time) }}</td>
                <td>
                    {% if algo_name == 'Brute Force' %}
                        O(nÂ³) - High
                    {% else %}
                        O(gÃ—p) - Low
                    {% endif %}
                </td>
                <td>{{ "%.1f"|format((1 - metrics.accuracy_metrics.calorie_deviation_pct) * 100) if metrics.accuracy_metrics else 'N/A' }}</td>
                <td>{{ "%.1f"|format(metrics.accuracy_metrics.macro_accuracy * 100) if metrics.accuracy_metrics else 'N/A' }}</td>
                <td>{{ "%.1f"|format(metrics.accuracy_metrics.overall_accuracy * 100) if metrics.accuracy_metrics else 'N/A' }}</td>
            </tr>
            {% endfor %}
        </table>
        
        <div style="margin-top: 15px; font-size: 12px; color: #666;">
            <p><strong>Space Complexity:</strong></p>
            <p>â€¢ Brute Force: O(nÂ³) - Evaluates all possible combinations, high memory usage</p>
            <p>â€¢ Genetic Algorithm: O(gÃ—p) - Uses population-based evolution, efficient memory usage</p>
            <p>Where n = number of meal options, g = generations, p = population size</p>
        </div>
    </div>

    <h2>Algorithm Analysis Summary</h2>
    <div class="metric-box">
        <h4>Key Findings</h4>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 15px 0;">
            <div style="background: #fff3cd; padding: 15px; border-radius: 4px; border-left: 4px solid #ffc107;">
                <h5 style="color: #856404; margin-top: 0;">âš¡ Brute Force Algorithm</h5>
                <p><strong>Time:</strong> {{ "%.3f"|format(comparison_metrics.brute_force.execution_time) }}s</p>
                <p><strong>Space:</strong> O(nÂ³) - High memory usage</p>
                <p><strong>Calorie Accuracy:</strong> {{ "%.1f"|format((1 - comparison_metrics.brute_force.accuracy_metrics.calorie_deviation_pct) * 100) if comparison_metrics.brute_force.accuracy_metrics else 'N/A' }}%</p>
                <p><strong>Macro Accuracy:</strong> {{ "%.1f"|format(comparison_metrics.brute_force.accuracy_metrics.macro_accuracy * 100) if comparison_metrics.brute_force.accuracy_metrics else 'N/A' }}%</p>
            </div>
            <div style="background: #d4edda; padding: 15px; border-radius: 4px; border-left: 4px solid #28a745;">
                <h5 style="color: #155724; margin-top: 0;">ðŸ§¬ Genetic Algorithm</h5>
                <p><strong>Time:</strong> {{ "%.3f"|format(comparison_metrics.genetic.execution_time) }}s</p>
                <p><strong>Space:</strong> O(gÃ—p) - Low memory usage</p>
                <p><strong>Calorie Accuracy:</strong> {{ "%.1f"|format((1 - comparison_metrics.genetic.accuracy_metrics.calorie_deviation_pct) * 100) if comparison_metrics.genetic.accuracy_metrics else 'N/A' }}%</p>
                <p><strong>Macro Accuracy:</strong> {{ "%.1f"|format(comparison_metrics.genetic.accuracy_metrics.macro_accuracy * 100) if comparison_metrics.genetic.accuracy_metrics else 'N/A' }}%</p>
            </div>
        </div>
    </div>

    <div style="text-align: center; margin: 30px 0;">
        <a href="{{ url_for('index') }}" class="btn btn-primary">Back to Home</a>
        <a href="{{ url_for('compare_algorithms_route') }}" class="btn">Run New Comparison</a>
    </div>
</main>
</body>
</html>
